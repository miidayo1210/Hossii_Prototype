# æŠ•ç¨¿ç”»é¢ UI/UX ä»•æ§˜æ›¸

> æœ€çµ‚æ›´æ–°: 2026-02-27
> é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«:
> `src/components/PostScreen/PostScreen.tsx`
> `src/components/PostScreen/PostScreen.module.css`
> `src/core/utils/imageStorageApi.ts`
> `src/core/hooks/useHossiiStore.tsx`

---

## æ¦‚è¦

å‚åŠ è€…ãŒã‚¹ãƒšãƒ¼ã‚¹ã¸æŠ•ç¨¿ï¼ˆHossiiï¼‰ã‚’ç½®ãç”»é¢ã€‚
ãƒ†ã‚­ã‚¹ãƒˆãƒ»æ„Ÿæƒ…ãƒ»å¹ãå‡ºã—è‰²ãƒ»ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ãƒ»ç”»åƒã‚’çµ„ã¿åˆã‚ã›ã¦æŠ•ç¨¿ã§ãã‚‹ã€‚
ã™ã¹ã¦ã®è¦ç´ ã¯ä»»æ„ã§ã€ã„ãšã‚Œã‹1ã¤ä»¥ä¸ŠãŒã‚ã‚Œã°æŠ•ç¨¿å¯èƒ½ã€‚

---

## å®Ÿè£…ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

| æ©Ÿèƒ½ | ä»•æ§˜ ID | çŠ¶æ…‹ |
|---|---|---|
| ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ï¼ˆ200æ–‡å­—ï¼‰ | - | âœ… å®Ÿè£…æ¸ˆã¿ |
| æ„Ÿæƒ…ãƒœã‚¿ãƒ³ï¼ˆã‚¯ã‚¤ãƒƒã‚¯é¸æŠï¼‰ | - | âœ… å®Ÿè£…æ¸ˆã¿ |
| å¹ãå‡ºã—è‰²é¸æŠï¼ˆF01ï¼‰ | F01 | âœ… å®Ÿè£…æ¸ˆã¿ |
| ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ä»˜ä¸ï¼ˆF09ï¼‰ | F09 | âœ… å®Ÿè£…æ¸ˆã¿ |
| ç”»åƒæŠ•ç¨¿ï¼ˆF10ï¼‰ | F10 | âœ… å®Ÿè£…æ¸ˆã¿ |
| ãŠçµµæãæŠ•ç¨¿ï¼ˆF08ï¼‰ | F08 | âœ… å®Ÿè£…æ¸ˆã¿ |
| æ•°å€¤æŠ•ç¨¿ï¼ˆnumberPostï¼‰ | - | âœ… å®Ÿè£…æ¸ˆã¿ |

---

## æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã®æ§‹æˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Hossii ã‚­ãƒ£ãƒ© + ã‚»ãƒªãƒ•]ï¼ˆä»»æ„è¡¨ç¤ºï¼‰ â”‚
â”‚                                      â”‚
â”‚  ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›ã‚¨ãƒªã‚¢ï¼ˆ200æ–‡å­—ä»¥å†…ï¼‰  â”‚
â”‚                                      â”‚
â”‚  æ„Ÿæƒ…ãƒœã‚¿ãƒ³ï¼ˆã‚¯ã‚¤ãƒƒã‚¯é¸æŠï¼‰           â”‚
â”‚  ğŸ˜Š ğŸ˜® ğŸ’¡ ğŸ¤” ğŸ˜‚ ğŸ‰ ğŸ¥¹ âœ¨           â”‚
â”‚                                      â”‚
â”‚  å¹ãå‡ºã—è‰²ãƒ‘ãƒ¬ãƒƒãƒˆï¼ˆ8è‰² + ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰â”‚
â”‚                                      â”‚
â”‚  # ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°å…¥åŠ›                   â”‚
â”‚                                      â”‚
â”‚  ğŸ“¸ å†™çœŸã‚’æ·»ä»˜                        â”‚
â”‚                                      â”‚
â”‚  [    æ°—æŒã¡ã‚’ç½®ã    ]               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## æŠ•ç¨¿ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³

| æ¡ä»¶ | å‹•ä½œ |
|---|---|
| æ„Ÿæƒ…ãƒ»ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»ç”»åƒãŒã™ã¹ã¦ç©º | ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤ºã€é€ä¿¡ã—ãªã„ |
| ã„ãšã‚Œã‹1ã¤ä»¥ä¸Šã‚ã‚Š | é€ä¿¡å¯èƒ½ |
| ç”»åƒã®ã¿ï¼ˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ»æ„Ÿæƒ…ãªã—ï¼‰ | âœ… é€ä¿¡å¯èƒ½ï¼ˆF10 å®Ÿè£…å¾Œï¼‰ |

---

## F01 å¹ãå‡ºã—è‰²é¸æŠ

**æ¦‚è¦**: æŠ•ç¨¿æ™‚ã«å¹ãå‡ºã—ã®è‰²ã‚’ãƒ—ãƒªã‚»ãƒƒãƒˆã‹ã‚‰é¸æŠã§ãã‚‹ã€‚

**ãƒ—ãƒªã‚»ãƒƒãƒˆè‰²ï¼ˆ8è‰²ï¼‰**:
`#FF6B6B` / `#4ECDC4` / `#45B7D1` / `#96CEB4` / `#FFEAA7` / `#DDA0DD` / `#98D8C8` / `#F7DC6F`

**ä»•æ§˜**:
- æœªé¸æŠæ™‚ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè‰²ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- é¸æŠè‰²ã¯æŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒ ã®ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«ã¯åæ˜ ã—ãªã„ï¼ˆã‚¹ãƒšãƒ¼ã‚¹ç”»é¢ã®ãƒãƒ–ãƒ«ã«åæ˜ ï¼‰
- é€ä¿¡å¾Œã«ãƒªã‚»ãƒƒãƒˆ

**ãƒ‡ãƒ¼ã‚¿**: `hossiis.bubble_color` varchar(7)ï¼ˆä¾‹: `"#FF6B6B"`ï¼‰

---

## F09 ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ä»˜ä¸

**æ¦‚è¦**: æŠ•ç¨¿ã«ãƒãƒƒã‚·ãƒ¥ã‚¿ã‚°ã‚’ä»˜ã‘ã¦ãƒ•ã‚£ãƒ«ã‚¿ãƒ»æ¤œç´¢ã«æ´»ç”¨ã™ã‚‹ã€‚

**UI æ“ä½œ**:
- `#` ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ä»˜ãå…¥åŠ›æ¬„ã«æ–‡å­—ã‚’å…¥åŠ›ã—ã€Enter / ã‚¹ãƒšãƒ¼ã‚¹ / ãƒ•ã‚©ãƒ¼ã‚«ã‚¹å¤–ã‚Œã§ã‚¿ã‚°ã‚’ç¢ºå®š
- ç¢ºå®šæ¸ˆã¿ã‚¿ã‚°ã¯ãƒãƒƒãƒ—ï¼ˆpillï¼‰å½¢å¼ã§è¡¨ç¤º + `Ã—` ã§å€‹åˆ¥å‰Šé™¤
- ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ã« `#ã‚¿ã‚°` ã‚’æ›¸ã„ãŸå ´åˆã‚‚è‡ªå‹•æŠ½å‡ºã—ã¦ãƒãƒ¼ã‚¸

**ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: å„ã‚¿ã‚°æœ€å¤§30æ–‡å­—

**ãƒ‡ãƒ¼ã‚¿**: `hossiis.hashtags` text[]ï¼ˆä¾‹: `["æœä¼š", "ãƒãƒ¼ãƒ "]`ï¼‰

---

## F10 ç”»åƒæŠ•ç¨¿

**æ¦‚è¦**: ç”»åƒï¼ˆå†™çœŸï¼‰ã‚’å˜ä½“ã¾ãŸã¯ãƒ†ã‚­ã‚¹ãƒˆã¨çµ„ã¿åˆã‚ã›ã¦æŠ•ç¨¿ã§ãã‚‹ã€‚

**UI æ“ä½œ**:
1. ğŸ“¸ ã‚¢ã‚¤ã‚³ãƒ³ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‚¨ãƒªã‚¢ã‚’ã‚¿ãƒƒãƒ— / ã‚¯ãƒªãƒƒã‚¯ â†’ ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ
2. ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºï¼ˆã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‰ã®ãƒ­ãƒ¼ã‚«ãƒ«ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼‰
3. `Ã—` ãƒœã‚¿ãƒ³ã§æ·»ä»˜ã‚’å–ã‚Šæ¶ˆã—å¯èƒ½
4. ã€Œæ°—æŒã¡ã‚’ç½®ãã€ãƒœã‚¿ãƒ³ã§é€ä¿¡ â†’ Supabase Storage ã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰

**ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†**:
- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´åœ§ç¸®: æœ€å¤§ 1MBãƒ»æœ€å¤§ 1280pxï¼ˆ`imageStorageApi.ts` ã® `compressImage()`ï¼‰
- Storage ãƒ‘ã‚¹: `hossii-images/{spaceId}/{hossiiId}.jpg`
- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æˆåŠŸ â†’ `imageUrl` ã‚’ hossii ã«ä»˜ä¸ã—ã¦é€ä¿¡
- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•—ï¼ˆç”»åƒã®ã¿æŠ•ç¨¿ï¼‰â†’ ã‚¨ãƒ©ãƒ¼ãƒˆãƒ¼ã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¦é€ä¿¡ã‚’ä¸­æ–­
- ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å¤±æ•—ï¼ˆãƒ†ã‚­ã‚¹ãƒˆä»˜ãæŠ•ç¨¿ï¼‰â†’ è­¦å‘Šãƒˆãƒ¼ã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¦ãƒ†ã‚­ã‚¹ãƒˆã®ã¿é€ä¿¡

**ã‚¹ãƒšãƒ¼ã‚¹ç”»é¢ã§ã®è¡¨ç¤º**:
- `viewMode = 'full'` æ™‚: ãƒãƒ–ãƒ«å†…ã®ä¸‹éƒ¨ã«ç”»åƒã‚’è¡¨ç¤ºï¼ˆæœ€å¤§ 200px Ã— 150pxï¼‰
- `viewMode = 'bubble'` æ™‚: ç”»åƒã¯éè¡¨ç¤ºï¼ˆãƒãƒ–ãƒ«å½¢ã®ã¿è¡¨ç¤ºï¼‰
- `viewMode = 'image'` æ™‚: ç”»åƒã®ã¿è¡¨ç¤ºï¼ˆãƒ†ã‚­ã‚¹ãƒˆãƒ»æ„Ÿæƒ…ã‚¢ã‚¤ã‚³ãƒ³éè¡¨ç¤ºï¼‰

**Supabase Storage è¨­å®š**:
| é …ç›® | å€¤ |
|---|---|
| ãƒã‚±ãƒƒãƒˆå | `hossii-images` |
| å…¬é–‹è¨­å®š | Public |
| INSERT ãƒãƒªã‚·ãƒ¼ | `WITH CHECK (true)` TO public |

**ãƒ‡ãƒ¼ã‚¿**: `hossiis.image_url` textï¼ˆSupabase Storage ã®å…¬é–‹ URLï¼‰

---

## F08 ãŠçµµæãæŠ•ç¨¿

> **âœ… å®Ÿè£…æ¸ˆã¿**

**æ¦‚è¦**: ã‚­ãƒ£ãƒ³ãƒã‚¹ã«æŒ‡/ãƒšãƒ³ã§æã„ãŸçµµã‚’ PNG ã¨ã—ã¦æŠ•ç¨¿ã™ã‚‹ã€‚

**å®Ÿè£…å†…å®¹**:
- `DrawingModal` ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆ`src/components/DrawingModal/DrawingModal.tsx`ï¼‰
- ãƒ„ãƒ¼ãƒ«ãƒãƒ¼: ãƒšãƒ³è‰²ï¼ˆ6è‰²ï¼‰ãƒ»å¤ªã•ï¼ˆç´°/ä¸­/å¤ªï¼‰ãƒ»æ¶ˆã—ã‚´ãƒ ãƒ»undoï¼ˆæœ€å¤§20ã‚¹ãƒ†ãƒƒãƒ—ï¼‰ãƒ»ã‚¯ãƒªã‚¢
- Pointer Eventsï¼ˆmouse + touch å¯¾å¿œï¼‰ã€`touch-action: none` ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æŠ‘åˆ¶
- ã€Œã“ã®çµµã‚’æŠ•ç¨¿ã™ã‚‹ã€ãƒœã‚¿ãƒ³: `canvas.toBlob('image/png')` â†’ F10 ã®ç”»åƒæŠ•ç¨¿ãƒ•ãƒ­ãƒ¼ã§ Storage ã¸ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
- PostScreen ã®å†™çœŸæ·»ä»˜ã‚¨ãƒªã‚¢ã«ã€Œâœï¸ ãŠçµµæãã€ãƒœã‚¿ãƒ³ã‚’è¿½åŠ 

---

## numberPost æ•°å€¤æŠ•ç¨¿

> **âœ… å®Ÿè£…æ¸ˆã¿**

**æ¦‚è¦**: ä½“æ¸©ãƒ»æ­©æ•°ãªã©ã®æ•°å€¤ã‚’æŠ•ç¨¿ã§ãã‚‹ã€‚

**å®Ÿè£…å†…å®¹**:
- `spaceSettings.features.numberPost = true` ã®ã¨ã PostScreen ã«æ•°å€¤å…¥åŠ›æ¬„ã‚’è¡¨ç¤º
- `Hossii.numberValue?: number` ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«ä¿å­˜ï¼ˆDB: `hossiis.number_value float`ï¼‰
- ã‚¹ãƒšãƒ¼ã‚¹ç”»é¢ã® Bubbleï¼ˆfull ãƒ¢ãƒ¼ãƒ‰ï¼‰ã§ `ğŸ“Š {numberValue}` ã¨ã—ã¦è¡¨ç¤º

---

## é€ä¿¡å¾Œã®å‹•ä½œ

1. æ¥½è¦³çš„æ›´æ–°ï¼ˆå³æ™‚ UI åæ˜ ï¼‰ã§ã‚¹ãƒšãƒ¼ã‚¹ç”»é¢ã®ãƒãƒ–ãƒ«ã«è¿½åŠ 
2. Supabase ã«éåŒæœŸ INSERT
3. ã‚¹ã‚¿ãƒ³ãƒ— +1ï¼ˆãƒ­ã‚°ã‚¤ãƒ³æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã¿ï¼‰
4. æˆåŠŸãƒˆãƒ¼ã‚¹ãƒˆè¡¨ç¤º
5. 800ms å¾Œã«ã‚¹ãƒšãƒ¼ã‚¹ç”»é¢ï¼ˆHomeï¼‰ã¸é·ç§»
6. ãƒ•ã‚©ãƒ¼ãƒ ã‚’ãƒªã‚»ãƒƒãƒˆï¼ˆé¸æŠæ„Ÿæƒ…ãƒ»ãƒ†ã‚­ã‚¹ãƒˆãƒ»è‰²ãƒ»ã‚¿ã‚°ãƒ»ç”»åƒã‚’ã‚¯ãƒªã‚¢ï¼‰

---

## ã‚¹ãƒšãƒ¼ã‚¹è¨­å®šã«ã‚ˆã‚‹åˆ¶å¾¡

ã‚¹ãƒšãƒ¼ã‚¹ç®¡ç†è€…ã¯æ©Ÿèƒ½ã”ã¨ã«æŠ•ç¨¿ã‚’ ON/OFF ã§ãã‚‹ï¼ˆ`SpaceSettingsScreen` > åŸºæœ¬è¨­å®šï¼‰ã€‚

| è¨­å®š | å¯¾è±¡ UI |
|---|---|
| `features.commentPost = false` | ãƒ†ã‚­ã‚¹ãƒˆå…¥åŠ›ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º |
| `features.emotionPost = false` | æ„Ÿæƒ…ãƒœã‚¿ãƒ³ã‚’éè¡¨ç¤º |
| `features.photoPost = false` | å†™çœŸæ·»ä»˜ã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤º |
| ã™ã¹ã¦ false | ã€ŒæŠ•ç¨¿æ©Ÿèƒ½ãŒç„¡åŠ¹ã€ã®è­¦å‘Šã‚’è¡¨ç¤º |
